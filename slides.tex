\documentclass[xcolor={dvipsnames}, aspectratio=169, handout]{beamer}
\usetheme{Darmstadt}
\usecolortheme{dolphin}
\usepackage[logic, complexity]{commondefns}
\usefonttheme[onlymath]{serif}
%\usepackage[style=alphabetic]{biblatex}
%\addbibresource{refs.bib}
\usepackage{bussproofs}

\title{Lower Bounds for the Polynomial Calculus\\via the ``Pigeon Dance''}
\author{Imogen Hergeth}
\date{January 2023}


\newcommand{\Sn}{S_n(\KK)}
\newcommand{\Snd}{S_{n, d}(\KK)}
\newcommand{\PHP}{\ensuremath{\neg \mathcal{PHP}^m_n}\xspace}
\newcommand{\Qiij}{Q_{i_1, i_2, j}}
\newcommand{\LT}{\operatorname{LT}}
\newcommand{\Rsem}{R^\mathrm{sem}}
\newcommand{\Rsyn}{R^\mathrm{syn}}
\newcommand{\Dsem}{\Delta^\mathrm{sem}}
\newcommand{\Dsyn}{\Delta^\mathrm{syn}}
\newcommand{\fa}{\text{ for all }}
\renewcommand{\K}{\operatorname{Kill}}
\newcommand{\Is}{{I \setminus \{i_1\}}}
\newcommand{\rhoij}{\rho_{i_1 j_1}}
\newcommand{\xij}{{x_{i_1 j_1}}}

\begin{document}
\maketitle

\section{Introduction}
\begin{frame}{Overview}
    \begin{itemize}[<+->]
        \item Overview of the needed background
        \item Ideas behind the proof and its structure
        \item The proof in more detail
    \end{itemize}
\end{frame}

\subsection{The polynomial calculus}
\begin{frame}{Definition}
    \begin{itemize}[<+->]
        \item Similar to sequent calculus, but lines are polynomials
        \item Addition
        \begin{prooftree}
            \AxiomC{$f$}
            \AxiomC{$g$}
            \BinaryInfC{$af + bg$}
        \end{prooftree}
        \item Multiplication
        \begin{prooftree}
            \AxiomC{$f$}
            \UnaryInfC{$f \cdot x$}
        \end{prooftree}
    \end{itemize}
\end{frame}

\begin{frame}{Motivation}
    \begin{itemize}[<+->]
        \item $g$ is provable from $f_1, \ldots, f_n$ if and only if it is in the ideal generated by them
        \item A proof of $g=1$ exists if and only if $f_1, \ldots, f_n$ have no common zeroes
        \item We construct polynomials such that their zeroes correspond to satisfying assignments
        \item Proving $1$ from them is a \textit{refutation}
        \item We use multilinear polynomials $\Sn$\\
            ($xy + xz + v \equiv x^2y + x^3z^5 + v$)
    \end{itemize}
\end{frame}

\subsection{The pigeonhole principle}
\begin{frame}{The pigeonhole principle}
    \begin{itemize}[<+->]
        \item If there are $m$ pigeons, $n$ pigeon holes, and $m > n$ then at least two pigeons have to share a hole
        \item Formally: if $m > n$ there is no injection $[m] \tomono [n]$
        \item Variables: $x_{i, j}, i \in [m], n \in [n]$
        \item Assignment of $x_{3, 5}$ corresponds to pigeon $3$ being in hole $5$
    \end{itemize}
    \begin{definition}<+->[\PHP]
        \begin{align*}
            Q_i &\coloneqq 1 - \sum_{j \in [n]} x_{ij} &&\text{for each $i \in [m]$}\\
            \Qiij &\coloneqq x_{i_1j} x_{i_2j} &&\text{for each $i_1 \neq i_2 \in [m], j \in [n]$}
        \end{align*}
    \end{definition}
\end{frame}

\begin{frame}{Provability as a linear operator}
    \begin{itemize}[<+->]
        \item We 
    \end{itemize}
\end{frame}

\section{Main result}
\subsection{Overview}
\begin{frame}{Theorem}
    \begin{theorem}<+->
        For any $m > n$, every polynomial calculus refutation of \PHP must have degree at least $n/2 + 1$.
    \end{theorem}
    \begin{itemize}[<+->]
        \item Pigeonhole principle is locally consistent
        \item Polynomial calculus preserves local validity
        \item Only large terms are always cancellable
    \end{itemize}
\end{frame}

\begin{frame}{Technical details}
    \begin{itemize}[<+->]
        \item $\prec$ orders variables and terms degree lexicographic ($ x_{3, 1} \prec x_{2, 5} \prec x_{1, 1} x_{1, 2} )$
        \item We use $V$ to denote those polynomials that are provable
        \item $\Delta$ are terms that do not appear as leading terms of polynomials in $V$
        \item $\Sn \cong \KK \Delta \oplus V$
        \item $R$ is the projection onto $\Delta$
        \item Index all of these with $n, d, I$
        \item Important: $R$ tells us what can not be proved ($R \neq 0 \Leftrightarrow V$ refutable)
    \end{itemize}
\end{frame}

\begin{frame}{Proof structure}
    \begin{itemize}[<+->]
        \item Characterize $V_d$ semantically
        \item Problem: only works if $R_I$ agree on their intersections
        \item Characterize $R_I$ syntactically
        \item Show the different operators are identical
    \end{itemize}
\end{frame}

\subsection{Valid Pigeon Arrangements}
\begin{frame}{Idea}
    \begin{itemize}[<+->]
        \item What polynomials are derivable from \PHP?
        \item Pigeons can not share holes
        \item Pigeon assignments are variable assignments
            $$\delta(x) = \begin{cases}
                1, \quad \text{if } x \in \{x_{1, 2}, x_{2, 4}, x_{3, 1}\}\\
                0, \quad \text{otherwise}
            \end{cases}$$
        \item Polynomials are evaluated to $0$ if they allow the assignment
            \begin{align*}
                \delta(1 - x_{1, 1} - x_{1, 2} - x_{1, 3} - x_{1, 4}) &= 0\\
                \delta(x_{1, 1} x_{3, 1}) = \delta(x_{1, 2} x_{2, 2}) &= 0
            \end{align*}
    \end{itemize}
\end{frame}

\begin{frame}{Derivable Polynomials}
    \begin{itemize}[<+->]
        \item $I \subseteq [n]$ is a set of pigeons
        \item $M_I$ is all assignments corresponding to injections $I \tomono [m]$
        \item Polynomials in \PHP are identically zero on $M_I$
        \item Polynomials derivable from \PHP are identically zero on $M_I$
        \item[] $\Rightarrow$ $V_I$ are all polynomials identically zero on $M_I$
    \end{itemize}
\end{frame}

\begin{frame}{Combining $V_I$}
    \begin{itemize}[<+->]
        \item We want a characterization of $V_d$, not $V_I$
        \item Set $V_d \coloneqq \bigcup_{|I| \leq d} V_I$ and $R_d$ accordingly
        \item Does this definition actually work?
        \item Yes it does! But only if $R_I(t) = R_{\dom(t)}(t)$
    \end{itemize}
\end{frame}

\section{The Pigeon Dance}
\begin{frame}{Overview}
    \begin{itemize}[<+->]
        \item Define $R_I(t)$ so that it is independent of pigeons not in $t$
        \item Show that the two definitions are identical
        \item We will only show the broad steps
    \end{itemize}
\end{frame}

\subsection{Characterizing \texorpdfstring{$R_I$}{RI}}
\begin{frame}{Example}
    
\end{frame}

\begin{frame}{Formalization}
    \begin{itemize}[<+->]
        \item The first pigeon flies to an unoccupied hole to its right
        \item Repeat until all pigeons have moved once
        \item If a pigeon can not find an empty hole, the dance is aborted
        \item Define $\Delta_I$ to be the set of terms that let pigeons complete the dance
        \item $R_I(t) = R_{\dom(t)}(t)$ since pigeons not in the dance do not affect it
    \end{itemize}
\end{frame}

\begin{frame}{Defining $R_I$}
    \begin{itemize}[<+->]
        \item We need $R_I(t) = f$ with $\LT(f) \prec t$ and $t - f \in V_I$
        \item If $t \in \Delta_I$ then $f = t$
        \item Otherwise we use $Q_{i_1} = 0$ to derive
            \begin{align*}
                t = \ &x_{i_2 j_2} \cdots x_{i_d j_d} - \sum_{j' < j_1} x_{i_1 j'} x_{i_2 j_2} \cdots x_{i_d j_d}\\
                &- \sum_{j' > j_1} x_{i_1 j'} x_{i_2 j_2} \cdots x_{i_d j_d} \mod V_I.
            \end{align*}
        \item The first two summands are $\prec t$ and can be ignored
        \item Any terms with $j' \in \{j_2, \ldots, j_d\}$ are $0$ and can be ignored
    \end{itemize}
\end{frame}

\begin{frame}{Defining $R_I$ (cont.)}
    \begin{itemize}[<+->]
        \item Repeat the same process with all remaining terms
        \item At each step the first $x_{i, j}$ gets replaced with $x_{i, j'}$ with some unused $j' > j$
        \item This is the pigeon dance!
        \item Since $t \not\in \Delta_I$ the dance can not be completed
        \item Process terminates with $f \prec t$ and $t = f \mod V_I$
    \end{itemize}
\end{frame}

\subsection{Properties of the dance}
\begin{frame}{The $\K$ operator}
    \begin{itemize}[<+->]
        \item The $\K$ operator kills the first pigeon and moves its hole to the left
        \item $\K(x_{i_1, j_1} \cdots x_{i_d, j_d}) = x_{i_2, j'_2} \cdots x_{i_d, j'_d}$ with\\
            $$j'_k \coloneqq \begin{cases}
                    j_k + 1, &\text{if } j_k < j_1\\
                    j_k, &\text{if } j_k > j_1.
                \end{cases}$$
    \end{itemize}
\end{frame}

\begin{frame}{Properties of $\K$}
    \begin{theorem}<+->
        $x_{i_1, j_1} \cdots x_{i_d, j_d} \in \Delta_I$ if and only if there is a $j' > j_1$ such that $\K(x_{i_1, j'} \cdots x_{i_d, j_d}) \in \Delta_I$.
    \end{theorem}
    \begin{proof}[Proof\nopunct]<+->
        This operator effectively moves the first pigeon to an empty hole and then kills it. This is the same as each step in the dance, where the first pigeon flies to some free hole to its right and then occupies it.
    \end{proof}
\end{frame}

\begin{frame}{Properties of $\K$ (cont.)}
     \begin{theorem}<+->
        $\Delta_I$ is closed under $\K$.
     \end{theorem}
    \begin{proof}[Proof\nopunct]<+->
        If $t \in \Delta_I$ then the pigeons can complete their dance. During this the first pigeon will start at $j$ and fly to $j'$. Killing the pigeon frees up $j'$ so any other pigeon that wanted to use $j$ can use it instead.
    \end{proof}
\end{frame}

\begin{frame}{The lower bound}
    \begin{theorem}<+->
        If $|I| \leq (n+1) / 2, t \in D_I$ and the minimal element $i$ of $I$ is not in $\dom(t)$, then there exists a $j \in [n]$ such that $\K(x_{ij} t) \in \Delta_I$.
    \end{theorem}
    \begin{proof}[Proof\nopunct{}]<+->
        At most $$
            |\dom(t)| \leq |I \setminus \{i\}| \leq \frac{n - 1}{2}
        $$ pigeons involved in the dance, each occupying two holes. Thus the total number of holes is $n - 1$ and one hole $j$ remains free. For the purposes of the dance, $\K(x_{ij} \cdot t)$ is the same as $t$ since the only difference is $j$ being moved to the left.
    \end{proof}
\end{frame}

\section{Conclusion}

\begin{frame}{Putting things together}
    \begin{itemize}[<+->]
        \item We now show that the two operators are identical
        \item Equivalent to $\Delta_I$ being linearly independent as functions $M_I \to \KK$
        \item Induction on $|I|$ gives us assignment $a \in M_{I\setminus \{i\}}$ with $a(f') \neq 0$
        \item Pick a $j$ such that $\K(x_{i, j} t) \in \Delta_I$
        \item Extend assignment to $I$ with $a'(f) \neq 0$
    \end{itemize}
\end{frame}

\begin{frame}{Summary}
    \begin{itemize}[<+->]
        \item If $d \leq n/2 + 1$, then definition of $R_I$ via the pigeon dance and via $M_I$ are identical
        \item Pigeons not in the dance do not affect its success, so $R_I(t) = R_{\dom(t)}(t)$
        \item $V_d$ is precisely polynomials identically zero on $M_I$
        \item $R_d \neq 0$
        \item There is no refutation of \PHP with $d \leq n/2 +1$
    \end{itemize}
\end{frame}

\end{document}